<adf-toolbar>
  <div class="app-site-container-style">
    <adf-sites-dropdown
      [hideMyFiles]="true"
      (change)="getSiteContent($event)">
    </adf-sites-dropdown>
  </div>
</adf-toolbar>
<adf-toolbar [color]="'accent'" *ngIf="!siteListing()">
  <adf-toolbar-title>
    <adf-breadcrumb
      root="Company Home"
      [target]="documentList"
      [folderNode]="documentList.folderNode">
    </adf-breadcrumb>
  </adf-toolbar-title>
  <adf-upload-button
    [rootFolderId]="getDocumentListCurrentFolderId()"
    [uploadFolders]="false"
    [multipleFiles]="true"
    [acceptedFilesType]="'*'"
    [versioning]="false"
    [adf-node-permission]="'create'"
    [adf-nodes]="getNodesForPermissionCheck()"
    (success)="onButtonUploadSuccess($event)">
  </adf-upload-button>
  <adf-toolbar-divider></adf-toolbar-divider>
  <button
    mat-icon-button
    [disabled]="!canCreateContent(documentList.folderNode)"
    [adf-create-folder]="getDocumentListCurrentFolderId()">
    <mat-icon>create_new_folder</mat-icon>
  </button>
</adf-toolbar>

<adf-upload-drag-area
  [parentId]="getDocumentListCurrentFolderId()"
  [adf-node-permission]="'create'"
  [adf-nodes]="getNodesForPermissionCheck()"
  (success)="onDragAndDropUploadSuccess($event)">
  <adf-document-list
    #documentList
    [navigationMode]="'click'"
    [currentFolderId]="getDocumentListCurrentFolderId()"
    [contextMenuActions]="true"
    [contentActions]="true">
    <content-actions>
      <!-- Folder actions -->
      <content-action
        title="{{'DOCUMENT_LIST.ACTIONS.FOLDER.DETAILS' | translate}}"
        [icon]="'folder'"
        [target]="'folder'"
        (execute)="onDetails($event)">
      </content-action>
      <content-action
        title="{{'DOCUMENT_LIST.ACTIONS.FOLDER.DELETE' | translate}}"
        [icon]="'delete'"
        [target]="'folder'"
        [permission]="'delete'"
        [disableWithNoPermission]="true"
        [handler]="'delete'"
        (permissionEvent)="onContentActionPermissionError($event)"
        (error)="onContentActionError($event)"
        (success)="onContentActionSuccess($event)">
      </content-action>
      <!-- File actions -->
      <content-action
        title="{{'DOCUMENT_LIST.ACTIONS.DOCUMENT.DETAILS' | translate}}"
        [icon]="'insert_drive_file'"
        [target]="'document'"
        (execute)="onDetails($event)">
      </content-action>
      <content-action
        title="{{'DOCUMENT_LIST.ACTIONS.DOCUMENT.DELETE' | translate}}"
        [icon]="'delete'"
        [target]="'document'"
        [permission]="'delete'"
        [disableWithNoPermission]="true"
        [handler]="'delete'"
        (permissionEvent)="onContentActionPermissionError($event)"
        (error)="onContentActionError($event)"
        (success)="onContentActionSuccess($event)">
      </content-action>
    </content-actions>
  </adf-document-list>‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍
  <adf-pagination
    [target]="documentList">
  </adf-pagination>
</adf-upload-drag-area>
